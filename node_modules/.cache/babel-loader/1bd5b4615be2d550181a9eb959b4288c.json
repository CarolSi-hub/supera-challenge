{"ast":null,"code":"var _jsxFileName = \"/home/ana/Documentos/supera-challenge/src/contexts/Provider.js\";\n\n/* eslint-disable react-hooks/exhaustive-deps */\nimport PropTypes from 'prop-types';\nimport React, { useState, useEffect } from 'react';\nimport products from '../services/products.json';\nimport GameStoreContext from './GameStoreContext';\nexport default function GameStoreProvider({\n  children\n}) {\n  const notNull = 0;\n  const negative = -1;\n  const ten = 10;\n  const maxValueForShipping = 250;\n  const [cartProducts, setCartProducts] = useState([]);\n  const [orderedProducts, setOrderedProducts] = useState(products);\n  const [filterOption, setFilterOption] = useState('');\n  const [totalValue, setTotalValue] = useState(notNull);\n  const [currentIndex, setCurrentIndex] = useState(notNull);\n  const [currentShipping, setCurrentShipping] = useState(notNull);\n  const [amountToPay, setAmountToPay] = useState(notNull);\n  const [productsQnt, setProductsQnt] = useState(notNull);\n  const [toCheckout, setToCheckout] = useState(false);\n  const filterOptions = [' ', 'Price', 'Popularity', 'Name'];\n  useEffect(() => {\n    function orderProductsBy(filter) {\n      switch (filter) {\n        case 'Price':\n          {\n            setOrderedProducts([...orderedProducts].sort((item1, item2) => item1.price - item2.price));\n            break;\n          }\n\n        case 'Popularity':\n          {\n            setOrderedProducts([...orderedProducts].sort((item1, item2) => item2.score - item1.score));\n            break;\n          }\n\n        case 'Name':\n          {\n            setOrderedProducts([...orderedProducts].sort((item1, item2) => {\n              if (item1.name > item2.name) return 1;\n              if (item1.name < item2.name) return negative;\n              return notNull;\n            }));\n            break;\n          }\n\n        default:\n          return setOrderedProducts(products);\n      }\n    }\n\n    orderProductsBy(filterOption);\n  }, [filterOption]);\n\n  function addProductToCart(product) {\n    if (cartProducts.some(item => item.id === product.id)) {\n      const productQnt = product.qnt;\n      const productPosition = cartProducts.indexOf(product);\n      cartProducts[productPosition].qnt = productQnt + 1;\n      setCartProducts([...cartProducts]);\n    } else {\n      product.index = currentIndex;\n      product.qnt = 1;\n      setCartProducts([...cartProducts, product]);\n      setCurrentIndex(currentIndex + 1);\n    }\n  }\n\n  function removeProductFromCart(product) {\n    if (cartProducts.some(item => item.id === product.id)) {\n      const productPosition = cartProducts.indexOf(product);\n      const productQnt = product.qnt;\n\n      if (productQnt === 1) {\n        cartProducts[productPosition].qnt = 0;\n        const newCart = cartProducts.filter(item => item.id !== product.id);\n        setCartProducts(newCart);\n      } else {\n        cartProducts[productPosition].qnt = productQnt - 1;\n        setCartProducts([...cartProducts]);\n      }\n    }\n  }\n\n  function deleteProductFromCart(product) {\n    const productPosition = cartProducts.indexOf(product);\n    cartProducts[productPosition].qnt = 0;\n    const newCart = cartProducts.filter(item => item.id !== product.id);\n    setCartProducts(newCart);\n  }\n\n  useEffect(() => {\n    function cartProductsQnt() {\n      const numberOfProducts = cartProducts.reduce((acc, item) => {\n        acc += item.qnt;\n        return acc;\n      }, notNull);\n      setProductsQnt(numberOfProducts);\n    }\n\n    cartProductsQnt();\n  }, [cartProducts]);\n  useEffect(() => {\n    function getTotalValue(arrayOfProducts) {\n      if (arrayOfProducts.length !== notNull) {\n        const newValue = arrayOfProducts.reduce((acc, item) => {\n          acc += Number(item.qnt) * Number(item.price);\n          return acc;\n        }, notNull);\n        setTotalValue(newValue);\n      } else {\n        setTotalValue(notNull);\n      }\n    }\n\n    getTotalValue(cartProducts);\n  }, [cartProducts]);\n  useEffect(() => {\n    function getTotalShipping(arrayOfProducts) {\n      if (totalValue <= maxValueForShipping) {\n        const newValue = arrayOfProducts.reduce((acc, item) => {\n          acc += item.qnt * ten;\n          return acc;\n        }, notNull);\n        setCurrentShipping(newValue);\n      } else {\n        setCurrentShipping(notNull);\n      }\n    }\n\n    getTotalShipping(cartProducts);\n  }, [cartProducts, totalValue]);\n  useEffect(() => {\n    function getAmountToPay() {\n      setAmountToPay(currentShipping + totalValue);\n    }\n\n    getAmountToPay();\n  }, [currentShipping, totalValue]);\n  return /*#__PURE__*/React.createElement(GameStoreContext.Provider, {\n    value: {\n      cartProducts,\n      orderedProducts,\n      addProductToCart,\n      filterOptions,\n      setFilterOption,\n      totalValue,\n      currentShipping,\n      amountToPay,\n      removeProductFromCart,\n      deleteProductFromCart,\n      productsQnt,\n      setToCheckout,\n      toCheckout\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 5\n    }\n  }, children);\n}\nGameStoreProvider.propTypes = {\n  children: PropTypes.element.isRequired\n};","map":{"version":3,"sources":["/home/ana/Documentos/supera-challenge/src/contexts/Provider.js"],"names":["PropTypes","React","useState","useEffect","products","GameStoreContext","GameStoreProvider","children","notNull","negative","ten","maxValueForShipping","cartProducts","setCartProducts","orderedProducts","setOrderedProducts","filterOption","setFilterOption","totalValue","setTotalValue","currentIndex","setCurrentIndex","currentShipping","setCurrentShipping","amountToPay","setAmountToPay","productsQnt","setProductsQnt","toCheckout","setToCheckout","filterOptions","orderProductsBy","filter","sort","item1","item2","price","score","name","addProductToCart","product","some","item","id","productQnt","qnt","productPosition","indexOf","index","removeProductFromCart","newCart","deleteProductFromCart","cartProductsQnt","numberOfProducts","reduce","acc","getTotalValue","arrayOfProducts","length","newValue","Number","getTotalShipping","getAmountToPay","propTypes","element","isRequired"],"mappings":"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","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport PropTypes from 'prop-types';\nimport React, { useState, useEffect } from 'react';\nimport products from '../services/products.json';\nimport GameStoreContext from './GameStoreContext';\n\nexport default function GameStoreProvider({ children }) {\n  const notNull = 0;\n  const negative = -1;\n  const ten = 10;\n  const maxValueForShipping = 250;\n\n  const [cartProducts, setCartProducts] = useState([]);\n  const [orderedProducts, setOrderedProducts] = useState(products);\n  const [filterOption, setFilterOption] = useState('');\n  const [totalValue, setTotalValue] = useState(notNull);\n  const [currentIndex, setCurrentIndex] = useState(notNull);\n  const [currentShipping, setCurrentShipping] = useState(notNull);\n  const [amountToPay, setAmountToPay] = useState(notNull);\n  const [productsQnt, setProductsQnt] = useState(notNull);\n  const [toCheckout, setToCheckout] = useState(false);\n\n  const filterOptions = [' ', 'Price', 'Popularity', 'Name'];\n\n  useEffect(() => {\n    function orderProductsBy(filter) {\n      switch (filter) {\n      case 'Price': {\n        setOrderedProducts([...orderedProducts]\n          .sort((item1, item2) => item1.price - item2.price));\n        break;\n      }\n      case 'Popularity': {\n        setOrderedProducts([...orderedProducts]\n          .sort((item1, item2) => item2.score - item1.score));\n        break;\n      }\n      case 'Name': {\n        setOrderedProducts([...orderedProducts].sort((item1, item2) => {\n          if (item1.name > item2.name) return 1;\n          if (item1.name < item2.name) return negative;\n          return notNull;\n        }));\n        break;\n      }\n      default:\n        return setOrderedProducts(products);\n      }\n    }\n\n    orderProductsBy(filterOption);\n  }, [filterOption]);\n\n  function addProductToCart(product) {\n    if (cartProducts.some((item) => item.id === product.id)) {\n      const productQnt = product.qnt;\n      const productPosition = cartProducts.indexOf(product);\n      cartProducts[productPosition].qnt = productQnt + 1;\n      setCartProducts([...cartProducts]);\n    } else {\n      product.index = currentIndex;\n      product.qnt = 1;\n      setCartProducts([...cartProducts, product]);\n      setCurrentIndex(currentIndex + 1);\n    }\n  }\n\n  function removeProductFromCart(product) {\n    if (cartProducts.some((item) => item.id === product.id)) {\n      const productPosition = cartProducts.indexOf(product);\n      const productQnt = product.qnt;\n      if (productQnt === 1) {\n        cartProducts[productPosition].qnt = 0;\n        const newCart = cartProducts.filter((item) => item.id !== product.id);\n        setCartProducts(newCart);\n      } else {\n        cartProducts[productPosition].qnt = productQnt - 1;\n        setCartProducts([...cartProducts]);\n      }\n    }\n  }\n\n  function deleteProductFromCart(product) {\n    const productPosition = cartProducts.indexOf(product);\n    cartProducts[productPosition].qnt = 0;\n    const newCart = cartProducts.filter((item) => item.id !== product.id);\n    setCartProducts(newCart);\n  }\n\n  useEffect(() => {\n    function cartProductsQnt() {\n      const numberOfProducts = cartProducts.reduce((acc, item) => {\n        acc += item.qnt;\n        return acc;\n      }, notNull);\n      setProductsQnt(numberOfProducts);\n    }\n    cartProductsQnt();\n  }, [cartProducts]);\n\n  useEffect(() => {\n    function getTotalValue(arrayOfProducts) {\n      if (arrayOfProducts.length !== notNull) {\n        const newValue = arrayOfProducts.reduce((acc, item) => {\n          acc += Number(item.qnt) * Number(item.price);\n          return acc;\n        }, notNull);\n        setTotalValue(newValue);\n      } else {\n        setTotalValue(notNull);\n      }\n    }\n    getTotalValue(cartProducts);\n  }, [cartProducts]);\n\n  useEffect(() => {\n    function getTotalShipping(arrayOfProducts) {\n      if (totalValue <= maxValueForShipping) {\n        const newValue = arrayOfProducts.reduce((acc, item) => {\n          acc += item.qnt * ten;\n          return acc;\n        }, notNull);\n        setCurrentShipping(newValue);\n      } else {\n        setCurrentShipping(notNull);\n      }\n    }\n    getTotalShipping(cartProducts);\n  }, [cartProducts, totalValue]);\n\n  useEffect(() => {\n    function getAmountToPay() {\n      setAmountToPay(currentShipping + totalValue);\n    }\n    getAmountToPay();\n  }, [currentShipping, totalValue]);\n\n  return (\n    <GameStoreContext.Provider\n      value={ {\n        cartProducts,\n        orderedProducts,\n        addProductToCart,\n        filterOptions,\n        setFilterOption,\n        totalValue,\n        currentShipping,\n        amountToPay,\n        removeProductFromCart,\n        deleteProductFromCart,\n        productsQnt,\n        setToCheckout,\n        toCheckout,\n      } }\n    >\n      {children}\n    </GameStoreContext.Provider>\n  );\n}\n\nGameStoreProvider.propTypes = {\n  children: PropTypes.element.isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}